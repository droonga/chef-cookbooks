<% engine = node.droonga.engine %>
{
  "effective_date": "2014-01-24T00:00:00Z",
  "zones": ["<%= engine.host %>:<%= engine.port %>/<%= engine.tag %>"],
  "farms": {
    "<%= engine.host %>:<%= engine.port %>/<%= engine.tag %>": {
      "device": ".",
      "capacity": 10
    }
  },
  "datasets": {
    "Droonga": {
      "workers": 2,
      "plugins": ["search", "groonga", "add"],
      "number_of_replicas": 2,
      "number_of_partitions": 2,
      "partition_key": "_key",
      "date_range": "infinity",
      "ring": {
        "<%= engine.host %>:23041": {
          "weight": 50,
          "partitions": {
            "2014-01-24": [
              "<%= engine.host %>:<%= engine.port %>/<%= engine.tag %>.000",
              "<%= engine.host %>:<%= engine.port %>/<%= engine.tag %>.001"
            ]
          }
        },
        "<%= engine.host %>:23042": {
          "weight": 50,
          "partitions": {
            "2014-01-24": [
              "<%= engine.host %>:<%= engine.port %>/<%= engine.tag %>.002",
              "<%= engine.host %>:<%= engine.port %>/<%= engine.tag %>.003"
            ]
          }
        }
      }
    }
  },
  "input_adapter": {
    "plugins": ["crud", "groonga"]
  },
  "output_adapter": {
    "plugins": ["crud", "groonga"]
  }
}
